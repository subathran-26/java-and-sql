 show tables;
+----------------+
| Tables_in_task |
+----------------+
| payment        |
| sdetails       |
+----------------+
2 rows in set (0.00 sec)

mysql> select * from payment;
+-------+---------+--------+
| depid | depname | salary |
+-------+---------+--------+
|  1010 | IT      |  10000 |
|  1011 | CT      |  15000 |
|  1012 | CS      |  20000 |
|  1013 | VISCOM  |  25000 |
|  1014 | BBA     |  30000 |
|  1015 | BCOM    |  35000 |
+-------+---------+--------+
6 rows in set (0.00 sec)

mysql> select * from sdetails;
+--------------+-------------+-------+
| student_name | course_name | depid |
+--------------+-------------+-------+
| sanjay       | IT          |  1010 |
| suba         | CT          |  1011 |
| ambi         | CS          |  1012 |
| nikash       | BCOM        |  1015 |
| prabhu       | BBA         |  1014 |
| sanjith      | VISCOM      |  1013 |
| gokul        | IT          |  1010 |
| santhosh     | IT          |  1010 |
| VICHU        | IT          |  1010 |
| ganesh       | CS          |  1012 |
| deiva        | CT          |  1011 |
| raahav       | BBA         |  1014 |
| sabari       | VISCOM      |  1013 |
+--------------+-------------+-------+
13 rows in set (0.00 sec)

mysql> ALTER TABLE sdetails ADD COLUMN rolno int FIRST;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from sdetails;
+-------+--------------+-------------+-------+
| rolno | student_name | course_name | depid |
+-------+--------------+-------------+-------+
|  NULL | sanjay       | IT          |  1010 |
|  NULL | suba         | CT          |  1011 |
|  NULL | ambi         | CS          |  1012 |
|  NULL | nikash       | BCOM        |  1015 |
|  NULL | prabhu       | BBA         |  1014 |
|  NULL | sanjith      | VISCOM      |  1013 |
|  NULL | gokul        | IT          |  1010 |
|  NULL | santhosh     | IT          |  1010 |
|  NULL | VICHU        | IT          |  1010 |
|  NULL | ganesh       | CS          |  1012 |
|  NULL | deiva        | CT          |  1011 |
|  NULL | raahav       | BBA         |  1014 |
|  NULL | sabari       | VISCOM      |  1013 |
+-------+--------------+-------------+-------+
13 rows in set (0.00 sec)

mysql> update sdetails set rollno=1 where student_name='sanjay';
ERROR 1054 (42S22): Unknown column 'rollno' in 'field list'
mysql> update sdetails set rolno=1 where student_name='sanjay';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=1 where student_name='suba';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=1 where student_name='raahav';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=3 where student_name='ambi';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=2 where student_name='suba';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from sdetails;
+-------+--------------+-------------+-------+
| rolno | student_name | course_name | depid |
+-------+--------------+-------------+-------+
|     1 | sanjay       | IT          |  1010 |
|     2 | suba         | CT          |  1011 |
|     3 | ambi         | CS          |  1012 |
|  NULL | nikash       | BCOM        |  1015 |
|  NULL | prabhu       | BBA         |  1014 |
|  NULL | sanjith      | VISCOM      |  1013 |
|  NULL | gokul        | IT          |  1010 |
|  NULL | santhosh     | IT          |  1010 |
|  NULL | VICHU        | IT          |  1010 |
|  NULL | ganesh       | CS          |  1012 |
|  NULL | deiva        | CT          |  1011 |
|     1 | raahav       | BBA         |  1014 |
|  NULL | sabari       | VISCOM      |  1013 |
+-------+--------------+-------------+-------+
13 rows in set (0.00 sec)

mysql> update sdetails set rollno=4 where student_name='nikash';
ERROR 1054 (42S22): Unknown column 'rollno' in 'field list'
mysql> update sdetails set rolno=4 where student_name='nikash';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=5 where student_name='prabhu';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=6 where student_name='sanjith';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=7 where student_name='gokul';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=8 where student_name='santhosh';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=9 where student_name='VICHU';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=10 where student_name='ganesh';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=11 where student_name='deiva';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=12 where student_name='raahav';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set rolno=13 where student_name='sabari';
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from sdetails;
+-------+--------------+-------------+-------+
| rolno | student_name | course_name | depid |
+-------+--------------+-------------+-------+
|     1 | sanjay       | IT          |  1010 |
|     2 | suba         | CT          |  1011 |
|     3 | ambi         | CS          |  1012 |
|     4 | nikash       | BCOM        |  1015 |
|     5 | prabhu       | BBA         |  1014 |
|     6 | sanjith      | VISCOM      |  1013 |
|     7 | gokul        | IT          |  1010 |
|     8 | santhosh     | IT          |  1010 |
|     9 | VICHU        | IT          |  1010 |
|    10 | ganesh       | CS          |  1012 |
|    11 | deiva        | CT          |  1011 |
|    12 | raahav       | BBA         |  1014 |
|    13 | sabari       | VISCOM      |  1013 |
+-------+--------------+-------------+-------+
13 rows in set (0.00 sec)

mysql> select avg(salary) from payment,sdetails where depid=1010;
ERROR 1052 (23000): Column 'depid' in where clause is ambiguous
mysql> select avg(salary) from payment where depid=1010;
+-------------+
| avg(salary) |
+-------------+
|  10000.0000 |
+-------------+
1 row in set (0.00 sec)

mysql> alter table payment drop column salary;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> select * from payment;
+-------+---------+
| depid | depname |
+-------+---------+
|  1010 | IT      |
|  1011 | CT      |
|  1012 | CS      |
|  1013 | VISCOM  |
|  1014 | BBA     |
|  1015 | BCOM    |
+-------+---------+
6 rows in set (0.00 sec)

mysql> select * from sdetails;
+-------+--------------+-------------+-------+
| rolno | student_name | course_name | depid |
+-------+--------------+-------------+-------+
|     1 | sanjay       | IT          |  1010 |
|     2 | suba         | CT          |  1011 |
|     3 | ambi         | CS          |  1012 |
|     4 | nikash       | BCOM        |  1015 |
|     5 | prabhu       | BBA         |  1014 |
|     6 | sanjith      | VISCOM      |  1013 |
|     7 | gokul        | IT          |  1010 |
|     8 | santhosh     | IT          |  1010 |
|     9 | VICHU        | IT          |  1010 |
|    10 | ganesh       | CS          |  1012 |
|    11 | deiva        | CT          |  1011 |
|    12 | raahav       | BBA         |  1014 |
|    13 | sabari       | VISCOM      |  1013 |
+-------+--------------+-------------+-------+
13 rows in set (0.00 sec)

mysql> alter table sdetails add column salary int;
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> update sdetails set salary=10000 where rolno=1;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=15000 where rolno=2;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=20000 where rolno=3;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=25000 where rolno=4;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=30000 where rolno=5;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=35000 where rolno=6;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=40000 where rolno=7;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=45000 where rolno=8;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=18000 where rolno=9;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=22000 where rolno=10;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=28000 where rolno=11;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=32000 where rolno=12;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> update sdetails set salary=100000 where rolno=13;
Query OK, 1 row affected (0.00 sec)
Rows matched: 1  Changed: 1  Warnings: 0

mysql> select * from sdetails;
+-------+--------------+-------------+-------+--------+
| rolno | student_name | course_name | depid | salary |
+-------+--------------+-------------+-------+--------+
|     1 | sanjay       | IT          |  1010 |  10000 |
|     2 | suba         | CT          |  1011 |  15000 |
|     3 | ambi         | CS          |  1012 |  20000 |
|     4 | nikash       | BCOM        |  1015 |  25000 |
|     5 | prabhu       | BBA         |  1014 |  30000 |
|     6 | sanjith      | VISCOM      |  1013 |  35000 |
|     7 | gokul        | IT          |  1010 |  40000 |
|     8 | santhosh     | IT          |  1010 |  45000 |
|     9 | VICHU        | IT          |  1010 |  18000 |
|    10 | ganesh       | CS          |  1012 |  22000 |
|    11 | deiva        | CT          |  1011 |  28000 |
|    12 | raahav       | BBA         |  1014 |  32000 |
|    13 | sabari       | VISCOM      |  1013 | 100000 |
+-------+--------------+-------------+-------+--------+
13 rows in set (0.00 sec)

mysql> select avg(salary) from sdetails where rolno=1;
+-------------+
| avg(salary) |
+-------------+
|  10000.0000 |
+-------------+
1 row in set (0.00 sec)


mysql> select avg(salary) from sdetails where course_name='CT';
+-------------+
| avg(salary) |
+-------------+
|  21500.0000 |
+-------------+
1 row in set (0.00 sec)

mysql> select course_name,avg(salary) from sdetails group by course_name;
+-------------+-------------+
| course_name | avg(salary) |
+-------------+-------------+
| IT          |  28250.0000 |
| CT          |  21500.0000 |
| CS          |  21000.0000 |
| BCOM        |  25000.0000 |
| BBA         |  31000.0000 |
| VISCOM      |  67500.0000 |
+-------------+-------------+
6 rows in set (0.00 sec)

mysql> select course_name,max(salary) from sdetails group by course_name;
+-------------+-------------+
| course_name | max(salary) |
+-------------+-------------+
| IT          |       45000 |
| CT          |       28000 |
| CS          |       22000 |
| BCOM        |       25000 |
| BBA         |       32000 |
| VISCOM      |      100000 |
+-------------+-------------+
6 rows in set (0.00 sec)

mysql> select course_name,min(salary) from sdetails group by course_name;
+-------------+-------------+
| course_name | min(salary) |
+-------------+-------------+
| IT          |       10000 |
| CT          |       15000 |
| CS          |       20000 |
| BCOM        |       25000 |
| BBA         |       30000 |
| VISCOM      |       35000 |
+-------------+-------------+
6 rows in set (0.00 sec)

mysql> create table product(
    -> sno  int,
    -> proname varchar(20),
    -> count_product int,
    -> cost_per_product int,
    -> total_amount int);
Query OK, 0 rows affected (0.01 sec)

mysql> -- Insert single row
mysql> INSERT INTO product (sno, proname, count_product, cost_per_product, total_amount)
    -> VALUES (1, 'Laptop', 5, 800, 4000);
Query OK, 1 row affected (0.01 sec)

mysql>
mysql> INSERT INTO product (sno, proname, count_product, cost_per_product, total_amount)
    -> VALUES
    ->     (2, 'Smartphone', 10, 500, 5000),
    ->     (3, 'Tablet', 8, 300, 2400),
    ->     (4, 'Monitor', 15, 200, 3000),
    ->     (5, 'Keyboard', 20, 50, 1000);
Query OK, 4 rows affected (0.00 sec)
Records: 4  Duplicates: 0  Warnings: 0

mysql> -- First modify the table (optional)
mysql> ALTER TABLE product MODIFY total_amount INT GENERATED ALWAYS AS (count_product * cost_per_product) STORED;
Query OK, 5 rows affected (0.05 sec)
Records: 5  Duplicates: 0  Warnings: 0

mysql>
mysql> -- Then insert without specifying total_amount
mysql> INSERT INTO product (sno, proname, count_product, cost_per_product)
    -> VALUES
    ->     (6, 'Mouse', 30, 25),
    ->     (7, 'Headphones', 12, 80);
Query OK, 2 rows affected (0.00 sec)
Records: 2  Duplicates: 0  Warnings: 0

mysql> SELECT * FROM product;
+------+------------+---------------+------------------+--------------+
| sno  | proname    | count_product | cost_per_product | total_amount |
+------+------------+---------------+------------------+--------------+
|    1 | Laptop     |             5 |              800 |         4000 |
|    2 | Smartphone |            10 |              500 |         5000 |
|    3 | Tablet     |             8 |              300 |         2400 |
|    4 | Monitor    |            15 |              200 |         3000 |
|    5 | Keyboard   |            20 |               50 |         1000 |
|    6 | Mouse      |            30 |               25 |          750 |
|    7 | Headphones |            12 |               80 |          960 |
+------+------------+---------------+------------------+--------------+
7 rows in set (0.00 sec)

mysql> SAVEPOINT task;
Query OK, 0 rows affected (0.00 sec)

mysql> SELECT
    ->     proname,
    ->     SUM(count_product) AS total_quantity,
    ->     AVG(cost_per_product) AS average_price,
    ->     SUM(total_amount) AS total_revenue
    -> FROM product
    -> GROUP BY proname;
+------------+----------------+---------------+---------------+
| proname    | total_quantity | average_price | total_revenue |
+------------+----------------+---------------+---------------+
| Laptop     |              5 |      800.0000 |          4000 |
| Smartphone |             10 |      500.0000 |          5000 |
| Tablet     |              8 |      300.0000 |          2400 |
| Monitor    |             15 |      200.0000 |          3000 |
| Keyboard   |             20 |       50.0000 |          1000 |
| Mouse      |             30 |       25.0000 |           750 |
| Headphones |             12 |       80.0000 |           960 |
+------------+----------------+---------------+---------------+
7 rows in set (0.00 sec)

mysql> SELECT
    ->     ->     proname,
    ->     ->     SUM(count_product) AS total_quantity,
    ->     ->     AVG(cost_per_product) AS average_price,
    ->     ->     SUM(total_amount) AS total_revenue
    ->     -> FROM product
    ->     -> GROUP BY total_quantity;
mysql> SELECT
    ->     proname,
    ->     SUM(count_product) AS total_quantity,
    ->     AVG(cost_per_product) AS average_price,
    ->     SUM(total_amount) AS total_revenue
    -> FROM product
    -> order by total_quantity;
ERROR 1140 (42000): In aggregated query without GROUP BY, expression #1 of SELECT list contains nonaggregated column 'task.product.proname'; this is incompatible with sql_mode=only_full_group_by
mysql> select * from product;
+------+------------+---------------+------------------+--------------+
| sno  | proname    | count_product | cost_per_product | total_amount |
+------+------------+---------------+------------------+--------------+
|    1 | Laptop     |             5 |              800 |         4000 |
|    2 | Smartphone |            10 |              500 |         5000 |
|    3 | Tablet     |             8 |              300 |         2400 |
|    4 | Monitor    |            15 |              200 |         3000 |
|    5 | Keyboard   |            20 |               50 |         1000 |
|    6 | Mouse      |            30 |               25 |          750 |
|    7 | Headphones |            12 |               80 |          960 |
+------+------------+---------------+------------------+--------------+
7 rows in set (0.00 sec)

mysql> alter table product add column category varchar(20);
Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> update product set category='electronics';
Query OK, 7 rows affected (0.00 sec)
Rows matched: 7  Changed: 7  Warnings: 0

mysql> select * from product;
+------+------------+---------------+------------------+--------------+-------------+
| sno  | proname    | count_product | cost_per_product | total_amount | category    |
+------+------------+---------------+------------------+--------------+-------------+
|    1 | Laptop     |             5 |              800 |         4000 | electronics |
|    2 | Smartphone |            10 |              500 |         5000 | electronics |
|    3 | Tablet     |             8 |              300 |         2400 | electronics |
|    4 | Monitor    |            15 |              200 |         3000 | electronics |
|    5 | Keyboard   |            20 |               50 |         1000 | electronics |
|    6 | Mouse      |            30 |               25 |          750 | electronics |
|    7 | Headphones |            12 |               80 |          960 | electronics |
+------+------------+---------------+------------------+--------------+-------------+
7 rows in set (0.00 sec)

mysql> savepoint task;
Query OK, 0 rows affected (0.00 sec)

mysql> savepoint task;
Query OK, 0 rows affected (0.00 sec)

mysql> insert into product values(1,'tshirt',20,120);
ERROR 1136 (21S01): Column count doesn't match value count at row 1
mysql> desc product;
+------------------+-------------+------+-----+---------+------------------+
| Field            | Type        | Null | Key | Default | Extra            |
+------------------+-------------+------+-----+---------+------------------+
| sno              | int         | YES  |     | NULL    |                  |
| proname          | varchar(20) | YES  |     | NULL    |                  |
| count_product    | int         | YES  |     | NULL    |                  |
| cost_per_product | int         | YES  |     | NULL    |                  |
| total_amount     | int         | YES  |     | NULL    | STORED GENERATED |
| category         | varchar(20) | YES  |     | NULL    |                  |
+------------------+-------------+------+-----+---------+------------------+
6 rows in set (0.00 sec)
